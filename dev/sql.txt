
PHARMACIST


CREATE TABLE patients (
    id INT PRIMARY KEY,
    name VARCHAR(255),
    dob DATE,
    gender VARCHAR(10)
);

-- Add sample patient data
INSERT INTO patients (id, name, dob, gender) VALUES
(1, 'John Doe', '1990-05-15', 'Male'),
(2, 'Jane Smith', '1985-08-22', 'Female'),
(3, 'Emily Johnson', '1988-11-03', 'Female'),
(4, 'Michael Williams', '1975-09-20', 'Male'),
(5, 'Olivia Davis', '1995-04-12', 'Female'),
(6, 'David Brown', '1980-07-28', 'Male'),
(7, 'Sophia Miller', '1992-12-15', 'Female');

-- Add the new column "age" to the "patients" table
ALTER TABLE patients
ADD COLUMN age INT;

-- Update existing records with the calculated age based on the date of birth
UPDATE patients SET age = YEAR(CURDATE()) - YEAR(dob) - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT(dob, '%m%d'));



//DID NOT UPDATE BELOW DUE TO FOREIGN KEY PROBLEM


        -- Create the patients table with the "age" column
        CREATE TABLE patients (
            id INT PRIMARY KEY AUTO_INCREMENT,
            name VARCHAR(255),
            dob DATE,
            gender VARCHAR(10),
            age INT
        );

        -- Insert 10 entries into the patients table
        INSERT INTO patients (name, dob, gender, age) VALUES
        ('John Doe', '1990-05-15', 'Male', YEAR(CURDATE()) - YEAR('1990-05-15') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1990-05-15', '%m%d'))),
        ('Jane Smith', '1985-08-22', 'Female', YEAR(CURDATE()) - YEAR('1985-08-22') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1985-08-22', '%m%d'))),
        ('Emily Johnson', '1988-11-03', 'Female', YEAR(CURDATE()) - YEAR('1988-11-03') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1988-11-03', '%m%d'))),
        ('Michael Williams', '1975-09-20', 'Male', YEAR(CURDATE()) - YEAR('1975-09-20') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1975-09-20', '%m%d'))),
        ('Olivia Davis', '1995-04-12', 'Female', YEAR(CURDATE()) - YEAR('1995-04-12') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1995-04-12', '%m%d'))),
        ('David Brown', '1980-07-28', 'Male', YEAR(CURDATE()) - YEAR('1980-07-28') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1980-07-28', '%m%d'))),
        ('Sophia Miller', '1992-12-15', 'Female', YEAR(CURDATE()) - YEAR('1992-12-15') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1992-12-15', '%m%d'))),
        ('William Taylor', '1982-03-18', 'Male', YEAR(CURDATE()) - YEAR('1982-03-18') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1982-03-18', '%m%d'))),
        ('Emma Wilson', '1993-06-25', 'Female', YEAR(CURDATE()) - YEAR('1993-06-25') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1993-06-25', '%m%d'))),
        ('Daniel Martinez', '1987-10-05', 'Male', YEAR(CURDATE()) - YEAR('1987-10-05') - (DATE_FORMAT(CURDATE(), '%m%d') < DATE_FORMAT('1987-10-05', '%m%d')));





CREATE TABLE prescriptions (
    id INT PRIMARY KEY AUTO_INCREMENT,
    patient_id INT,
    prescription_text TEXT,
    prescribing_date DATE,
    prescribing_doctor VARCHAR(255),
    FOREIGN KEY (patient_id) REFERENCES patients(id)
);

INSERT INTO prescriptions (patient_id, prescription_text, prescribing_date, prescribing_doctor) VALUES
(1, 'Take medication X twice a day', '2023-01-15', 'Dr. Johnson'),
(1, 'Prescription for pain relief', '2023-02-01', 'Dr. Smith'),
(2, 'Allergy medication', '2023-03-10', 'Dr. Davis');


CREATE TABLE diagnosis (
    id INT PRIMARY KEY AUTO_INCREMENT,
    prescription_id INT,
    diagnosis_description TEXT,
    FOREIGN KEY (prescription_id) REFERENCES prescriptions(id)
);

INSERT INTO diagnosis (prescription_id, diagnosis_description)
VALUES
    (1, 'Common cold'),
    (2, 'Hypertension'),
    (3, 'Allergic reaction'),

CREATE TABLE medications (
    id INT PRIMARY KEY AUTO_INCREMENT,
    prescription_id INT,
    name VARCHAR(255),
    dosage VARCHAR(50),
    remarks TEXT,
    FOREIGN KEY (prescription_id) REFERENCES prescriptions(id)
);

INSERT INTO medications (prescription_id, name, dosage, remarks)
VALUES
    (1, 'ColdEx', '1 tablet every 6 hours', 'Take with food'),
    (2, 'Lisinopril', '10 mg daily', 'Monitor blood pressure regularly'),
    (3, 'Antihistamine', 'As directed', 'Avoid alcohol'),
   

CREATE TABLE lab_tests (
    id INT PRIMARY KEY AUTO_INCREMENT,
    prescription_id INT,
    name VARCHAR(255),
    remarks TEXT,
    FOREIGN KEY (prescription_id) REFERENCES prescriptions(id)
);

INSERT INTO lab_tests (prescription_id, name, remarks)
VALUES
    (1, 'Blood Count', 'Check for infection'),
    (2, 'Cholesterol Level', 'Monitor lipid profile'),
    (3, 'Allergy Test', 'Identify allergens')
   
    

-- Corrected medication table
CREATE TABLE medication (
    id INT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    batch_number VARCHAR(50) NOT NULL,
    dosage VARCHAR(50) NOT NULL,
    expiry_date DATE NOT NULL,
    quantity INT NOT NULL,
    status VARCHAR(20) NOT NULL
);

-- Add sample medication data
INSERT INTO medication (id, name, batch_number, dosage, expiry_date, quantity, status) VALUES
(1, 'Aspirin', 'ABC123', '100mg', '2024-06-30', 50, 'Active'),
(2, 'Ibuprofen', 'XYZ456', '200mg', '2023-12-15', 75, 'Active'),
(3, 'Amoxicillin', 'PQR789', '500mg', '2024-08-20', 30, 'Active'),
(4, 'Lisinopril', 'LMN101', '10mg', '2024-04-25', 40, 'Inactive'),
(5, 'Simvastatin', 'JKL202', '20mg', '2024-09-10', 25, 'Active'),
(6, 'Metformin', 'XYZ987', '850mg', '2024-11-05', 60, 'Active'),
(7, 'Levothyroxine', 'ABC456', '50mcg', '2023-10-22', 20, 'Inactive'),
(8, 'Omeprazole', 'DEF789', '40mg', '2024-07-18', 35, 'Active'),
(9, 'Losartan', 'PQR202', '50mg', '2023-09-30', 15, 'Active'),
(10, 'Atorvastatin', 'LMN303', '40mg', '2023-11-15', 10, 'Active');

-- Corrected inquiries table
CREATE TABLE inquiries (
    inquiry_no INT PRIMARY KEY,
    email VARCHAR(255) NOT NULL,
    inquiry_date DATE NOT NULL,
    message TEXT NOT NULL,
    patient_name VARCHAR(255) NOT NULL
);

-- Add sample inquiry data
INSERT INTO inquiries (inquiry_no, email, inquiry_date, message, patient_name) VALUES
(1, 'john.doe@example.com', '2024-01-20', 'Interested in scheduling an appointment.', 'John Doe'),
(2, 'jane.smith@example.com', '2024-02-05', 'Inquiring about prescription refills.', 'Jane Smith'),
(3, 'mary.jones@example.com', '2024-03-12', 'Seeking information on available services.', 'Mary Jones'),
(4, 'david.brown@example.com', '2024-04-18', 'Concerns about recent medication side effects.', 'David Brown'),
(5, 'susan.miller@example.com', '2024-05-25', 'Request for clarification on billing statements.', 'Susan Miller');


profile 

CREATE TABLE pharmacist_profiles (
    id INT PRIMARY KEY AUTO_INCREMENT,
    employee_id VARCHAR(10) NOT NULL,
    username VARCHAR(255) NOT NULL,
    email_phone VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO pharmacist_profiles (employee_id, username, email_phone, password) 
VALUES ('#123456', 'sampleUsername', 'sample@email.com', 'hashed_password');



HEALTHSUPERVISOR





PATIENT 





DOCTOR 




ADMIN





